var u=Object.defineProperty;var m=(a,t,e)=>t in a?u(a,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[t]=e;var c=(a,t,e)=>m(a,typeof t!="symbol"?t+"":t,e);import{D as p,s as h,b as f,c as j,d as C,r as x,u as y,e as w,j as s}from"./index-DEGR8AsL.js";import{F as l}from"./FormInput-BsyvR3Af.js";const d=[{id:"project-name",name:"name",label:"Project name",type:"text",required:!0},{id:"content-type",name:"contentType",label:"Description",type:"text",required:!0}];class b{constructor(t){c(this,"accountId");c(this,"dataContent");this.accountId=t,this.dataContent=new p}findUser(t){return async e=>{const n=await this.dataContent.findUser(t);console.log(n),n?e(h(n)):alert("no user found")}}getAllContents(t){return async e=>{const n=await this.dataContent.fetchContents(t);return n?(e(f(n)),n):[]}}createNewProject(t,e){return async n=>{const r=await this.dataContent.createProject(t,e,this.accountId);if(r){n(j(r));return}else{alert("content not saved");return}}}createNewContent(t,e){return async n=>{try{const r=await this.dataContent.createContent(t,e);r&&n(C(r))}catch(r){return console.log(r),null}}}}function v(){const[a,t]=x.useState({name:"",contentType:""}),e=y(o=>o.profile.userAccount.id),n=w();function r(){const o=new b(e);n(o.createNewProject(a.name,a.contentType))}const i=o=>{t({...a,[o.target.name]:o.target.value})};return s.jsxs("div",{className:"w-full max-w-md p-8 space-y-4 bg-base-100 rounded-lg shadow-lg",children:[s.jsx("h2",{className:"text-2xl font-bold text-center",children:"Create a Project"}),s.jsxs("form",{onSubmit:r,method:"dialog",className:"space-y-4",children:[s.jsx(l,{...d[0],value:a.name,handleChange:i}),s.jsx(l,{...d[1],value:a.contentType,handleChange:i}),s.jsx("button",{className:"btn btn-primary",children:"Create new Project"})]})]})}export{v as N};
